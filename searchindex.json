[{
  "section": "Blog",
  "slug": "/blog/obsidian+hugo%E5%8D%9A%E5%AE%A2%E5%8F%91%E5%B8%83/",
  "title": "Obsidian+Hugo：博客发布(Mac)",
  "description": "",
  "date": "November 11, 2025",
  "image": null,
  "imageSM": null,
  "searchKeyword": "",
  "categories": "Software",
  "tags": "",
  "content":"之前学习的时候，总是看其他人的博客，学习他人的经验，一直也希望记录一下自己学习的过程。最近使用Obsidian做笔记，发现也可以用来写Blog，所以花了点时间来配置。\n博客方案 对于博客，我的需求，主要是：\n简便：除去开始配置之外，之后最好能一键发布，只需要关注写的过程，其他不用管 功能齐全：有搜索、标签、分类等功能，以便查看 进行了一圈搜索之后，最终的选择如下：\nObsidian + Typora：Obsidian负责管理笔记，Typora用于实际的笔记编辑 Git + Github Action：git用于管理、托管源码，github action用于自动化编译（把源码编译成网页） PicGo：PicGo存储图片到网络 最终的效果是，在obsidian中编辑完之后，一键上传到github，经过自动化编译之后，在git page中展示\n配置流程 准备工作 Github账号 科学上网 Hugo 安装 brew update brew install hugo 下载太慢\nHugo本地初始化 由于我使用的是Hugoplate的hugo主题，所以步骤和正常的初始化不太一样，正常的初始化过程，可以参考最底下的网站\n从网页中，下载主题Hugoplate 将下载后文件夹的内容移到想要用于存放blog的文件夹内，比如我的位置是ever-burning（存放blog的文件夹最好不要放到icloud有关目录下） 在终端下进入该目录执行以下命令\nnpm run project-setup npm install 可以通过 npm run dev 命令在本地运行博客，检查是否存在问题\n根据github页面说明，配置博客页面具体内容\n问题 Q1: 下载速度太慢 解决方法：使用代理下载\n在当前的终端中，输入以下命令(设置当前终端的代理，只在当前终端有效)：\nexport https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 all_proxy=socks5://127.0.0.1:7890 继续进行下载操作\nObsidian 使用Obsidian打开ever-burning仓库 安装两个插件\ngit插件的设置 主要设置了10分钟保存提交\nObsidian里的Image auto upload默认即可\nPicGo 下载PicGo\n获取token：在 Github \u0026ndash;\u0026gt; Settings \u0026ndash;\u0026gt; Developer settings \u0026ndash;\u0026gt; Personal access tokens \u0026ndash;\u0026gt; Tokens(classtc) \u0026ndash;\u0026gt; Generate new token(classic) 中获取，过期时间可以选无限制，权限给 repo 即可。\n设置PicGo（记得在github中创建对应的仓库，也就是图中的仓库A）\nGit设置 首先创建图中的仓库B，将ever-burning文件夹上传到仓库B中\ngit add . git commit -m \u0026#34;first commit\u0026#34; git branch -M main # 下面的xxxx根据github提示调整 git remote add origin xxxx git push -u origin main 然后创建仓库C，一般仓库名为xxx.github.io，xxx默认为github名，仓库C设置： 创建github aciton\n在ever-burning目录下创建.github/workflows文件夹\n创建一个xxx.yaml文件，xxx为任意名字，其内容如下:\nname: Deploy Hugo Blog # 代码提交到 main 分支时触发 GitHub Actions on: push: branches: - main jobs: deploy: runs-on: ubuntu-latest steps: # 1. 检出源码 - name: Checkout uses: actions/checkout@v4 with: # 确保获取完整的历史记录，以便部署 Action 可以比较文件 fetch-depth: 0 # 2. 设置 Node.js 环境并安装依赖 (解决 Tailwind/Parcel 依赖问题) # 假设您的项目依赖 Node.js 20.x 版本 - name: Setup Node.js Environment uses: actions/setup-node@v4 with: node-version: \u0026#39;20.x\u0026#39; - name: Install Node Dependencies # 运行 npm install 来安装 node_modules 文件夹中的所有依赖项 run: npm install # 3. 设置 Hugo 环境 - name: Setup Hugo uses: peaceiris/actions-hugo@v3 with: hugo-version: \u0026#34;latest\u0026#34; extended: true # 4. 构建网站 - name: Build Web # -D 参数用于构建草稿 (draft) 内容，如果不希望构建草稿，请删除 -D run: hugo -D # 5. 部署到 github.io 仓库 - name: Deploy Web uses: peaceiris/actions-gh-pages@v4 with: # 使用在私有仓库中配置的 HUGO_TOKEN (具有 repo 权限) PERSONAL_TOKEN: ${{ secrets.HUGO_TOKEN }} # 目标仓库，请确保仓库已存在 EXTERNAL_REPOSITORY: QinCity/QinCity.github.io # 推送到目标仓库的 main 分支 PUBLISH_BRANCH: main # 要推送的目录 (Hugo 生成的静态文件) PUBLISH_DIR: ./public # 部署时的 Git 提交信息 commit_message: auto deploy 上述中，secrets.HUGO_TOKEN需要在github中进行配置，配置过程如下（配置在仓库B中进行）：\nTypora 可以直接在Obsidian里编辑，由于个人喜欢Typora编辑，所以还进行了Typora的设置\n在Obsidian创建完blog之后，用Typora打开即可编辑，需要对Typora进行一些设置。\n想要设置本地的图片保存在本地，blog的图片保存在github，可以选中上图中的允许根据YAML设置自动上传图片。在使用中时，可以通过下图中的选项，来切换图片保存的位置。（当然为了简便操作，在下面的模版里，会进行额外设置）\n使用流程 在content文件夹下创建blog之后，只需要点击按钮即可，等待一会之后即可在xxx.github.io看到\n模版 由于blog在创建的时候需要一些信息，为了简便，我创建了一个模版，用于快速插入这些信息\n启用模版功能 在模版文件夹下创建xxx.md，xxx为任意，用于作为模版。我的常用模版内容如下：\n--- title: meta_title: \u0026#34;\u0026#34; description: \u0026#34;\u0026#34; date: \u0026#34;{{date:YYYY-MM-DDTHH:mm:ssZ}}\u0026#34; image: \u0026#34;\u0026#34; categories: author: ever-burning tags: draft: true typora-copy-images-to: \u0026#34; upload\u0026#34; --- typora-copy-images-to: 用于typora中，blog的图片自动上传，而不是存储到本地 模版的使用：\n用cmd+P唤起Obsidian的命令行，然后找到下图命令即可\n总结 以上就是我的整个工作流程，其中有些细节可能忽略了，等之后如果想到了再接着补充，也希望我自己能够积极记录学习的过程，望大家共勉！\n参考 使用-obsidian-一键发布博客 Obsidian+Hugo：我的博客笔记工作流 "}]
